# ğŸ“Œ Flutter ìœ„ì ¯ ë¼ì´í”„ì‚¬ì´í´ê³¼ í™”ë©´ Stack êµ¬ì¡° ì´í•´

> ğŸ—“ï¸ ì‘ì„±ì¼: 2025-04-15  
> ğŸ“‚ ì¹´í…Œê³ ë¦¬: Flutter

---

## ğŸ§  í•™ìŠµ ê°œìš”

- Flutterì—ì„œ `StatefulWidget`ì˜ ì£¼ìš” ìƒëª…ì£¼ê¸° ë©”ì„œë“œ í•™ìŠµ (`initState`, `build`, `dispose`)  
- `Navigator.push()` / `Navigator.pop()`ì„ ì‚¬ìš©í•œ í™”ë©´ ì „í™˜ ì‹œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ íë¦„ ì´í•´  
- Flutterì˜ í™”ë©´ ì „í™˜ì´ Stack êµ¬ì¡°ë¡œ ì‘ë™í•œë‹¤ëŠ” ì  í•™ìŠµ

---

## ğŸ“Œ í•µì‹¬ ê°œë… ì •ë¦¬

### ğŸ”¹ StatefulWidget ë¼ì´í”„ì‚¬ì´í´

| ë©”ì„œë“œ       | ì„¤ëª… |
|--------------|------|
| `initState()` | ìœ„ì ¯ì´ ì²˜ìŒ ìƒì„±ë  ë•Œ í•œ ë²ˆë§Œ í˜¸ì¶œë¨. ì´ˆê¸°í™” ë¡œì§ (ë°ì´í„° fetch, controller ìƒì„± ë“±)ì— ì í•© |
| `build()`     | ìœ„ì ¯ì´ ê·¸ë ¤ì§ˆ ë•Œë§ˆë‹¤ í˜¸ì¶œë¨. UIë¥¼ êµ¬ì„±í•˜ëŠ” ê³³. `setState()` í˜¸ì¶œ ì‹œì—ë„ ë‹¤ì‹œ ì‹¤í–‰ë¨ |
| `dispose()`   | ìœ„ì ¯ì´ ì†Œë©¸ë˜ê¸° ì§ì „ì— í˜¸ì¶œë¨. ë¦¬ì†ŒìŠ¤ ì •ë¦¬, controller í•´ì œ ë“±ì— ì‚¬ìš©ë¨ |

### ğŸ”¹ Navigator Stack êµ¬ì¡°

- FlutterëŠ” í™”ë©´ ì „í™˜ì„ Stack êµ¬ì¡°ë¡œ ê´€ë¦¬í•¨
- `Navigator.push()` â†’ í˜„ì¬ í™”ë©´ ìœ„ì— ìƒˆë¡œìš´ í™”ë©´ì„ Stackì— ìŒ“ìŒ
- `Navigator.pop()` â†’ í˜„ì¬ í™”ë©´ì„ Stackì—ì„œ ì œê±°í•˜ê³  ì´ì „ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°

---

## ğŸ’¡ ì£¼ìš” ì½”ë“œ & ì˜ˆì œ

```dart
import 'package:flutter/material.dart';

void main() => runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(home: APage());
  }
}

class APage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text("A Page")),
      body: Center(
        child: ElevatedButton(
          onPressed: () {
            Navigator.push(
              context,
              MaterialPageRoute(builder: (context) => BPage()),
            );
          },
          child: Text("Go to B Page"),
        ),
      ),
    );
  }
}

class BPage extends StatefulWidget {
  @override
  _BPageState createState() => _BPageState();
}

class _BPageState extends State<BPage> {
  @override
  void initState() {
    super.initState();
    print('BPage: initState');
  }

  @override
  Widget build(BuildContext context) {
    print('BPage: build');
    return Scaffold(
      appBar: AppBar(title: Text("B Page")),
      body: Center(
        child: ElevatedButton(
          onPressed: () => Navigator.pop(context),
          child: Text("Go Back"),
        ),
      ),
    );
  }

  @override
  void dispose() {
    print('BPage: dispose');
    super.dispose();
  }
}
```

---

## ğŸ§© ì‹œí–‰ì°©ì˜¤ / ì˜¤ë¥˜ ë©”ëª¨

- `StatelessWidget`ì—ëŠ” `initState`ë‚˜ `dispose`ê°€ ì—†ìŒ â†’ ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ê°€ í•„ìš”í•˜ë©´ ë°˜ë“œì‹œ `StatefulWidget` ì‚¬ìš©  
- `Navigator.push()`ëŠ” ê¸°ì¡´ í™”ë©´ì„ ìœ ì§€í•œ ì±„ ìƒˆë¡œìš´ í™”ë©´ì„ Stack ìœ„ì— ìŒ“ìŒ â†’ ì´ì „ ìƒíƒœê°€ ìœ ì§€ë¨  
- `dispose()`ë¥¼ êµ¬í˜„í•˜ì§€ ì•Šìœ¼ë©´ `TextEditingController`, `AnimationController` ë“± ë¦¬ì†ŒìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ë‚¨ì„ ìˆ˜ ìˆìŒ

---

## ğŸ” ë‹¤ì‹œ ë³¸ë‹¤ë©´?

- `initState()` ì•ˆì—ì„œëŠ” ë¹„ë™ê¸° ì½”ë“œë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜ (`async` ë¶™ì´ë©´ ì•ˆ ë¨)  
  â†’ ëŒ€ì‹  `Future.microtask()` ë˜ëŠ” `addPostFrameCallback()` ì‚¬ìš©  
- `dispose()`ì—ì„œ ë¦¬ì†ŒìŠ¤ í•´ì œë¥¼ ë°˜ë“œì‹œ ì§„í–‰  
- `Navigator.pushReplacement()`ëŠ” ê¸°ì¡´ í™”ë©´ì„ ì œê±°í•˜ê³  ìƒˆ í™”ë©´ìœ¼ë¡œ ì „í™˜ â†’ Back ë²„íŠ¼ ì‹œ ì´ì „ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ì§€ ì•ŠìŒ  
- `ModalRoute.of(context)` ë“± context ê´€ë ¨ ì‘ì—…ì€ `initState()`ì—ì„œ ë°”ë¡œ ì‚¬ìš© ë¶ˆê°€ â†’ `didChangeDependencies()` í™œìš©

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Flutter StatefulWidget ê³µì‹ ë¬¸ì„œ](https://api.flutter.dev/flutter/widgets/StatefulWidget-class.html)  
- [Navigator ê³µì‹ ë¬¸ì„œ](https://docs.flutter.dev/cookbook/navigation/navigation-basics)  
- [Flutter Lifecycle Overview](https://docs.flutter.dev/perf/app-lifecycle)  
- [Navigator Stack êµ¬ì¡° ì„¤ëª…](https://api.flutter.dev/flutter/widgets/Navigator-class.html)

---

## ğŸ’» ì‹¤í–‰ íë¦„ ì¶œë ¥ ì˜ˆì‹œ

ì•„ë˜ëŠ” ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ í™”ë©´ ì „í™˜(push)ê³¼ ë˜ëŒì•„ê°€ê¸°(pop)í•  ë•Œ ì½˜ì†”ì— ì¶œë ¥ë˜ëŠ” ë¡œê·¸ì…ë‹ˆë‹¤:

```text
BPage: initState
BPage: build
// â†“ BPageì—ì„œ "Go Back" ë²„íŠ¼ í´ë¦­ í›„
BPage: dispose
initState â†’ build : ìƒˆë¡œìš´ í™”ë©´ì´ Stackì— ìŒ“ì¼ ë•Œ í˜¸ì¶œ
dispose: í™”ë©´ì´ Stackì—ì„œ ì œê±°ë  ë•Œ í˜¸ì¶œ
```
---

## ğŸ“Œ ìš”ì•½
  - ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œ ìˆœì„œ: initState â†’ build â†’ (setState ë°œìƒ ì‹œ ë‹¤ì‹œ build) â†’ dispose
  - FlutterëŠ” Stack êµ¬ì¡°ë¡œ í™”ë©´ì„ ê´€ë¦¬í•˜ë©° push ì‹œ ìœ„ë¡œ ìŒ“ê³ , pop ì‹œ ì œê±°í•¨
  - ìœ„ì ¯ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ì´í•´í•˜ë©´ ì•±ì˜ ìƒíƒœ ê´€ë¦¬, ë©”ëª¨ë¦¬ ê´€ë¦¬, í™”ë©´ ì „í™˜ íë¦„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì„¤ê³„í•  ìˆ˜ ìˆìŒ
